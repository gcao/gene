#!/usr/bin/env bash

# Run a suite of benchmarks
# Usage: bench_suite

echo "=== Gene Benchmark Suite ==="
echo "Date: $(date '+%Y-%m-%d %H:%M:%S')"
echo ""

# Ensure we have the latest build
echo "Building Gene..."
nimble build 2>&1 | grep -v "Warning:" | grep -v "ignoring duplicate" || true
echo ""

# Fibonacci benchmark
echo "1. Fibonacci Benchmark"
echo "----------------------"
for n in 10 15 20 24; do
  echo -n "fib($n): "
  ./bin/fibonacci $n 2>/dev/null | grep "Time:" | awk '{print $2 " seconds"}'
done
echo ""

# Add more benchmarks here as they are developed
# echo "2. Array Operations Benchmark"
# echo "-----------------------------"
# ./bin/array_bench

# echo "3. String Operations Benchmark"
# echo "------------------------------"
# ./bin/string_bench

echo "Benchmark suite complete."
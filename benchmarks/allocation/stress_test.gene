# Simplified Allocation Stress Test

(fn create_simple_tree depth
  (if (<= depth 0)
    []
    [(create_simple_tree (- depth 1))
     (create_simple_tree (- depth 1))]))

(fn create_arrays n
  (var count 0)
  (var i 0)
  (while (< i n)
    (var arr [1 2 3 4 5])
    (count = (+ count 1))
    (i = (+ i 1)))
  count)

(fn create_maps n
  (var count 0)
  (var i 0)
  (while (< i n)
    (var m {})
    (count = (+ count 1))
    (i = (+ i 1)))
  count)

# Run simple allocation tests
(println "Allocation stress test")

(var result (create_arrays 100))
(println "Completed " result " iterations")

(println "Creating simple gene objects...")
(var tree (create_simple_tree 3))
(println "Gene objects created successfully")